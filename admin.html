<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة التحكم - AMOORY_STORE</title>
    <meta name="description" content="لوحة تحكم إدارة متجر AMOORY_STORE">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&family=Tajawal:wght@300;400;500;700;900&family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
    <!-- Admin Header -->
    <header class="admin-header">
        <div class="container">
            <div class="admin-header-content">
                <div class="admin-header-left">
                    <button class="admin-menu-btn" id="adminMenuBtn">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h1 class="admin-title">لوحة التحكم</h1>
                </div>

                <div class="admin-header-right">
                    <div class="admin-notifications">
                        <button class="notification-btn" id="notificationBtn">
                            <i class="fas fa-bell"></i>
                            <span class="notification-badge" id="notificationBadge">3</span>
                        </button>
                    </div>

                    <div class="admin-user-menu">
                        <button class="admin-user-btn" id="adminUserBtn">
                            <i class="fas fa-user-circle"></i>
                            <span>المدير</span>
                        </button>
                        <div class="admin-user-dropdown" id="adminUserDropdown">
                            <a href="#" class="dropdown-item">
                                <i class="fas fa-user"></i>
                                الملف الشخصي
                            </a>
                            <a href="#" class="dropdown-item">
                                <i class="fas fa-cog"></i>
                                الإعدادات
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="index.html" class="dropdown-item">
                                <i class="fas fa-home"></i>
                                العودة للمتجر
                            </a>
                            <a href="#" class="dropdown-item logout">
                                <i class="fas fa-sign-out-alt"></i>
                                تسجيل الخروج
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Admin Sidebar -->
    <aside class="admin-sidebar" id="adminSidebar">
        <nav class="admin-nav">
            <a href="#dashboard" class="nav-item active" data-section="dashboard">
                <i class="fas fa-tachometer-alt"></i>
                <span>لوحة المعلومات</span>
            </a>
            <a href="#products" class="nav-item" data-section="products">
                <i class="fas fa-box"></i>
                <span>إدارة المنتجات</span>
            </a>
            <a href="#orders" class="nav-item" data-section="orders">
                <i class="fas fa-shopping-cart"></i>
                <span>الطلبات</span>
            </a>
            <a href="#users" class="nav-item" data-section="users">
                <i class="fas fa-users"></i>
                <span>العملاء</span>
            </a>
            <a href="#analytics" class="nav-item" data-section="analytics">
                <i class="fas fa-chart-bar"></i>
                <span>الإحصائيات</span>
            </a>
            <a href="#settings" class="nav-item" data-section="settings">
                <i class="fas fa-cog"></i>
                <span>الإعدادات</span>
            </a>
        </nav>
    </aside>

    <!-- Admin Main Content -->
    <main class="admin-main">
        <!-- Dashboard Section -->
        <section id="dashboard-section" class="admin-section active">
            <div class="section-header">
                <h2 class="section-title">لوحة المعلومات</h2>
                <div class="section-actions">
                    <button class="btn btn-primary" onclick="refreshDashboard()">
                        <i class="fas fa-sync"></i>
                        تحديث
                    </button>
                </div>
            </div>

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-shopping-cart"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" id="totalOrders">0</h3>
                        <p class="stat-label">إجمالي الطلبات</p>
                        <span class="stat-change positive">+12%</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" id="totalRevenue">0 ريال</h3>
                        <p class="stat-label">إجمالي الإيرادات</p>
                        <span class="stat-change positive">+8%</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-box"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" id="totalProducts">0</h3>
                        <p class="stat-label">عدد المنتجات</p>
                        <span class="stat-change neutral">0%</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number" id="totalCustomers">0</h3>
                        <p class="stat-label">عدد العملاء</p>
                        <span class="stat-change positive">+15%</span>
                    </div>
                </div>
            </div>

            <!-- Recent Orders -->
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <div class="card-header">
                        <h3 class="card-title">الطلبات الأخيرة</h3>
                        <a href="#orders" class="card-link" onclick="switchSection('orders')">عرض الكل</a>
                    </div>
                    <div class="card-content">
                        <div class="orders-list" id="recentOrders">
                            <!-- Orders will be loaded here -->
                        </div>
                    </div>
                </div>

                <div class="dashboard-card">
                    <div class="card-header">
                        <h3 class="card-title">المنتجات الأكثر مبيعاً</h3>
                        <a href="#products" class="card-link" onclick="switchSection('products')">عرض الكل</a>
                    </div>
                    <div class="card-content">
                        <div class="products-list" id="topProducts">
                            <!-- Top products will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Products Management Section -->
        <section id="products-section" class="admin-section">
            <div class="section-header">
                <h2 class="section-title">إدارة المنتجات</h2>
                <div class="section-actions">
                    <button class="btn btn-primary" onclick="showAddProductModal()">
                        <i class="fas fa-plus"></i>
                        إضافة منتج جديد
                    </button>
                </div>
            </div>

            <!-- Products Table -->
            <div class="admin-table-container">
                <table class="admin-table" id="productsTable">
                    <thead>
                        <tr>
                            <th>الصورة</th>
                            <th>اسم المنتج</th>
                            <th>الفئة</th>
                            <th>السعر</th>
                            <th>المخزون</th>
                            <th>الحالة</th>
                            <th>الإجراءات</th>
                        </tr>
                    </thead>
                    <tbody id="productsTableBody">
                        <!-- Products will be loaded here -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Orders Management Section -->
        <section id="orders-section" class="admin-section">
            <div class="section-header">
                <h2 class="section-title">إدارة الطلبات</h2>
                <div class="section-actions">
                    <div class="filter-tabs">
                        <button class="tab-btn active" data-filter="all">الكل</button>
                        <button class="tab-btn" data-filter="pending">في الانتظار</button>
                        <button class="tab-btn" data-filter="completed">مكتملة</button>
                        <button class="tab-btn" data-filter="cancelled">ملغية</button>
                    </div>
                </div>
            </div>

            <!-- Orders Table -->
            <div class="admin-table-container">
                <table class="admin-table" id="ordersTable">
                    <thead>
                        <tr>
                            <th>رقم الطلب</th>
                            <th>العميل</th>
                            <th>التاريخ</th>
                            <th>المبلغ</th>
                            <th>الحالة</th>
                            <th>الإجراءات</th>
                        </tr>
                    </thead>
                    <tbody id="ordersTableBody">
                        <!-- Orders will be loaded here -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Users Management Section -->
        <section id="users-section" class="admin-section">
            <div class="section-header">
                <h2 class="section-title">إدارة العملاء</h2>
                <div class="section-actions">
                    <button class="btn btn-outline" onclick="exportUsers()">
                        <i class="fas fa-download"></i>
                        تصدير البيانات
                    </button>
                </div>
            </div>

            <!-- Users Table -->
            <div class="admin-table-container">
                <table class="admin-table" id="usersTable">
                    <thead>
                        <tr>
                            <th>الاسم</th>
                            <th>البريد الإلكتروني</th>
                            <th>رقم الجوال</th>
                            <th>عدد الطلبات</th>
                            <th>إجمالي المشتريات</th>
                            <th>تاريخ التسجيل</th>
                            <th>الإجراءات</th>
                        </tr>
                    </thead>
                    <tbody id="usersTableBody">
                        <!-- Users will be loaded here -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Analytics Section -->
        <section id="analytics-section" class="admin-section">
            <div class="section-header">
                <h2 class="section-title">الإحصائيات والتحليلات</h2>
            </div>

            <div class="analytics-grid">
                <div class="analytics-card">
                    <h3 class="analytics-title">المبيعات الشهرية</h3>
                    <div class="chart-placeholder">
                        <i class="fas fa-chart-line"></i>
                        <p>رسم بياني للمبيعات</p>
                    </div>
                </div>

                <div class="analytics-card">
                    <h3 class="analytics-title">المنتجات الأكثر شعبية</h3>
                    <div class="chart-placeholder">
                        <i class="fas fa-chart-pie"></i>
                        <p>رسم دائري للمنتجات</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Settings Section -->
        <section id="settings-section" class="admin-section">
            <div class="section-header">
                <h2 class="section-title">إعدادات النظام</h2>
            </div>

            <div class="settings-grid">
                <div class="settings-card">
                    <h3 class="settings-title">إعدادات المتجر</h3>
                    <form class="settings-form">
                        <div class="form-group">
                            <label class="form-label">اسم المتجر</label>
                            <input type="text" class="form-input" value="AMOORY_STORE">
                        </div>
                        <div class="form-group">
                            <label class="form-label">البريد الإلكتروني</label>
                            <input type="email" class="form-input" value="info@amoorystore.com">
                        </div>
                        <div class="form-group">
                            <label class="form-label">رقم الجوال</label>
                            <input type="tel" class="form-input" value="+24999200203">
                        </div>
                        <button type="submit" class="btn btn-primary">حفظ التغييرات</button>
                    </form>
                </div>

                <div class="settings-card">
                    <h3 class="settings-title">إعدادات الشحن</h3>
                    <form class="settings-form">
                        <div class="form-group">
                            <label class="form-label">وقت التسليم (ساعات)</label>
                            <input type="number" class="form-input" value="24">
                        </div>
                        <div class="form-group">
                            <label class="form-label">رسوم الشحن</label>
                            <input type="number" class="form-input" value="0">
                        </div>
                        <button type="submit" class="btn btn-primary">حفظ التغييرات</button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <!-- Add Product Modal -->
    <div class="modal" id="addProductModal">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h3 class="modal-title">إضافة منتج جديد</h3>
                <button class="modal-close" onclick="closeAddProductModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form class="modal-body" id="addProductForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">اسم المنتج *</label>
                        <input type="text" class="form-input" name="name" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">الفئة *</label>
                        <select class="form-input" name="category" required>
                            <option value="pubg">شدات ببجي</option>
                            <option value="itunes">بطاقات iTunes</option>
                            <option value="playstation">بطاقات PlayStation</option>
                            <option value="xbox">بطاقات Xbox</option>
                            <option value="google">بطاقات Google Play</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">السعر *</label>
                        <input type="number" class="form-input" name="price" min="0" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">السعر الأصلي (اختياري)</label>
                        <input type="number" class="form-input" name="originalPrice" min="0" step="0.01">
                    </div>
                    <div class="form-group form-full">
                        <label class="form-label">الوصف</label>
                        <textarea class="form-input" name="description" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">رابط الصورة</label>
                        <input type="url" class="form-input" name="image">
                    </div>
                    <div class="form-group">
                        <label class="form-label">المخزون</label>
                        <input type="number" class="form-input" name="stock" value="100" min="0">
                    </div>
                </div>
            </form>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline" onclick="closeAddProductModal()">إلغاء</button>
                <button type="submit" form="addProductForm" class="btn btn-primary">إضافة المنتج</button>
            </div>
        </div>
    </div>

    <!-- Edit Product Modal -->
    <div class="modal" id="editProductModal">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h3 class="modal-title">تعديل المنتج</h3>
                <button class="modal-close" onclick="closeEditProductModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form class="modal-body" id="editProductForm">
                <input type="hidden" name="productId">
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">اسم المنتج *</label>
                        <input type="text" class="form-input" name="name" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">الفئة *</label>
                        <select class="form-input" name="category" required>
                            <option value="pubg">شدات ببجي</option>
                            <option value="itunes">بطاقات iTunes</option>
                            <option value="playstation">بطاقات PlayStation</option>
                            <option value="xbox">بطاقات Xbox</option>
                            <option value="google">بطاقات Google Play</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">السعر *</label>
                        <input type="number" class="form-input" name="price" min="0" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">السعر الأصلي (اختياري)</label>
                        <input type="number" class="form-input" name="originalPrice" min="0" step="0.01">
                    </div>
                    <div class="form-group form-full">
                        <label class="form-label">الوصف</label>
                        <textarea class="form-input" name="description" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">رابط الصورة</label>
                        <input type="url" class="form-input" name="image">
                    </div>
                    <div class="form-group">
                        <label class="form-label">المخزون</label>
                        <input type="number" class="form-input" name="stock" min="0">
                    </div>
                </div>
            </form>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline" onclick="closeEditProductModal()">إلغاء</button>
                <button type="submit" form="editProductForm" class="btn btn-primary">حفظ التغييرات</button>
            </div>
        </div>
    </div>

    <!-- Order Details Modal -->
    <div class="modal" id="orderDetailsModal">
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h3 class="modal-title">تفاصيل الطلب</h3>
                <button class="modal-close" onclick="closeOrderDetailsModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="orderDetailsContent">
                <!-- Order details will be loaded here -->
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="admin.js"></script>
</body>
</html>
